<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <style>
            /* CSS styles here */
        </style>
        <title>Firestore Data Display</title>
    </head>
    <body>
        <h1>Firestore Data</h1>
        <ul id="data-list"></ul>
        <script src="https://www.gstatic.com/firebasejs/8.2.2/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.2.2/firebase-firestore.js"></script>
        <script>
            // Firebase configuration
            var firebaseConfig = {
                apiKey: "AIzaSyCfchBLTflNyZ-P1nOXmMFDSLJAob3j10g",
                authDomain: "tec-park.firebaseapp.com",
                databaseURL: "https://tec-park-default-rtdb.firebaseio.com",
                projectId: "tec-park",
                storageBucket: "tec-park.appspot.com",
                messagingSenderId: "756938005815",
                appId: "1:756938005815:web:bd733b565872393ac70eb2",
                measurementId: "G-LHCP2DRZWM",
            };

            // Initialize Firebase
            firebase.initializeApp(firebaseConfig);

            // Initialize Firestore
            const db = firebase.firestore();

            // Reference to the Firestore collection
            const dataCollection = db.collection("occupancy"); // Replace with your collection name

            // Reference to the HTML element where data will be displayed
            const dataList = document.getElementById("data-list");

            // Function to fetch and display data
            function fetchData() {
                dataCollection.get().then((querySnapshot) => {
                    querySnapshot.forEach((doc) => {
                        const data = doc.data();
                        const listItem = document.createElement("li");
                        listItem.textContent = `Name: ${data.occ_total}`; // Customize based on your data structure
                        dataList.appendChild(listItem);
                    });
                });
            }

            // Fetch and display data when the page loads
            fetchData();
            // Set up an interval to call the function every second
            const intervalId = setInterval(fetchData, 1000);

            // Optionally, you can clear the interval when the user leaves the page to stop the function calls
            window.addEventListener("beforeunload", () => {
                clearInterval(intervalId);
            });
        </script>
    </body>
</html>
